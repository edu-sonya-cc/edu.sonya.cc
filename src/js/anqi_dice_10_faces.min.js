function draw(){setF1Content("?lang=en&landscape=true&no=1\nlang:en, zh_cn, zh_tw\nlandscape:true, false\nno:1,2");const t=window.location.href;parseExpressBoxParamsFromUrl(t);parsePageParamsFromUrl(t);const n=`&a3=true&landscape=false&lang=${LANG}&no=${NO}`;parsePageParamsFromUrl(n);parseExpressBoxParamsFromUrl(n);document.getElementsByTagName("title")[0].innerText=`${[{en:"A3 D10 Landscape ",zh_cn:"A3_带正方形截面的长方体_横排",zh_tw:"A3_帶正方形截面的長方體_橫排"},{en:"A3 D10 Portrait ",zh_cn:"A3_带正方形截面的长方体_竖排",zh_tw:"A3_帶正方形截面的長方體_豎排"}][LANDSCAPE?0:1][LANG]}${NO}`;document.getElementById("style").innerHTML=getPageCss(A3,LANDSCAPE,PAGE_PADDING_TOP,PAGE_PADDING_LEFT).concat("svg{}");const e=document.getElementsByTagName("body")[0];const o=createPageElement();e.appendChild(o);appendPortraitDices2(o)}function appendPortraitDices2(L){const{floor:u,ceil:t}=Math;const l=[[],[],[],"1,2,3,4,5,1,2,3,4,5".split(","),"甲、乙、丙、丁、戊、己、庚、辛、壬、癸".split("、"),"甲木、乙木、丙火、丁火、戊土、己土、庚金、辛金、壬水、癸水".split("、"),"阏逢、旃蒙、柔兆、强圉、著雍、屠维、上章、重光、玄黓、昭阳".split("、")];for(let t=0;t<10;++t){l[0].push((t+1).toString());l[1].push(t.toString());l[2].push((10*t).toString())}const O=l.length;const d=7;const n=4;const p=d*n;let f=0;[{SIDE:10,PASTE_WIDTH:6,COUNT:p+3}].forEach(({SIDE:n,PASTE_WIDTH:e,COUNT:o},t)=>{for(let t=0;t<o;++t){const{html:s,width:c,height:i}=getSvgOfDice10(n,e,l[t%O]);const{svgElement:r}=createSvgElement(s,c,i);L.appendChild(r);r.widthMm=c;r.heightMm=i;r.setAttribute("id",`svg${++f}`);const g=r.style;if(t>=p){g.position="absolute";g.transform="rotate(-90deg)";const a=`${c*.5}mm`;g.transformOrigin=`${a} ${a}`;const m=(i-c)*.5*1.7;g.bottom=`-${PAGE_PADDING_TOP+m}mm`;g.left=`${PAGE_PADDING_LEFT+i*(t%p)}mm`}else{g.position="absolute";g.left=`${PAGE_PADDING_LEFT+(c-n*1.3)*(t%d)}mm`;g.top=`${PAGE_PADDING_TOP+i*u(t/d)}mm`}}})}function appendPortraitDices1(u){let l=0;[{SIDE:20,PASTE_WIDTH:8,COUNT:3},{SIDE:10,PASTE_WIDTH:6,COUNT:12}].forEach(({SIDE:n,PASTE_WIDTH:e,COUNT:o},s)=>{for(let t=0;t<o;++t){const{html:c,width:i,height:r}=getSvgOfDice10(n,e,CONTENTS_ARRAY[t%CONTENTS_ARRAY_LENGTH]);const{svgElement:g}=createSvgElement(c,i,r);u.appendChild(g);g.widthMm=i;g.heightMm=r;g.setAttribute("id",`svg${++l}`);if(t>0){const a=g.style;a.position="relative";if(s===0){const m=`-${n*.5*t}mm`;a.left=m;a.marginLeft=m}else{const L=6;if(t%L){const m=`-${n*.25*(t%L)}mm`;a.left=m;a.marginLeft=m}}}}})}function appendLandscapeDices1(t){}function appendLandscapeDices2(t){}function getInnerLine(t,n,e,o){return`<line x1="${t}mm" x2="${n}mm" y1="${e}mm" y2="${o}mm" style="stroke:#888;stroke-width:0.1mm;stroke-dasharray:3 2;"></line>`}function getOuterLine(t,n,e,o){return`<line x1="${t}mm" x2="${n}mm" y1="${e}mm" y2="${o}mm" style="stroke:#555;stroke-width:0.2mm;"></line>`}function getSvgTextHtml(t,n,e,o,s){const c=`<text x="${t}mm" y="${n}mm" style="dominant-baseline:middle;text-anchor:middle;font-size:3mm;font-family: 'Kaiti';${s?`transform: rotate(${s}deg);transform-origin: ${t}mm ${n}mm;`:""}${e}" >${o.indexOf("<")>-1?o:o.split("").map(t=>getSvgTsSpanHtml(e,t,0,0,0)).join("")}</text>`;return c}function getSvgTsSpanHtml(t,n,e,o,s){s=s||0;return`<tspan dx="${e}mm" dy="${o}mm" rotate="${s}" style="${t}dominant-baseline:middle;text-anchor:middle;${n==="6"||n==="9"?"text-decoration:underline;":""}${n==="ü"?"opacity:0.85;font-size:0.9em;":""}">${n}</tspan>`}function getSvgOfDice10(t,n,b,z){const{max:U,min:F,sin:e,cos:o,tan:M,atan:k,PI:s,abs:B}=Math;t=U(1,t||10);n=U(1,n||5);if(!b){b="1,2,3,4,5,6,7,8,9,10".split(",")}if(!z){z=`${5*t/10}mm`}const c=t*2.55;const i=t*2.55;const r=50.22;const g=r*s/180;const a=g*.5;const W=94.7*s/180;const R=(s-a-W)*2;const m=s*.5;const L=45*s/180;const j=m-a;const Y=W-j;const K=t*e(Y);const q=t*o(Y);const u=q/e(a);const J=u*e(j);const l=K+J;const Q=a;const V=c,X=i+l;const Z=u*e(Q);const tt=u*o(Q);const O=c-Z,d=c+Z;const p=i+tt,f=i+tt;const nt=g;const h=c+l*e(nt);const I=i+l*o(nt);const et=g*1.5;const $=c+u*e(et);const A=i+u*o(et);const ot=g*2-m;const E=c+l*o(ot);const P=i-l*e(ot);const st=g*2.5-m;const D=c+u*o(st);const T=i-u*e(st);const ct=g*3-m;const _=c+l*o(ct);const x=i-l*e(ct);const it=s-g*3.5;const y=c+u*e(it);const S=i-u*o(it);const rt=g*4-s;const N=c-l*e(rt);const v=i-l*o(rt);const gt=g*4.5-s;const G=c-u*e(gt);const w=i-u*o(gt);const C=O+V-c;const H=p+X-i;const at=O,mt=p;const Lt=V,ut=X;const lt=C*2-Lt,Ot=ut;const dt=g;const pt=C+l*e(dt);const ft=H-l*o(dt);const ht=g*1.5;const It=C+u*e(ht);const $t=H-u*o(ht);const At=g*2-m;const Et=C+l*o(At);const Pt=H+l*e(At);const Dt=g*2.5-m;const Tt=C+u*o(Dt);const _t=H+u*e(Dt);const xt=g*3-m;const yt=C+l*o(xt);const St=H+l*e(xt);const Nt=s-g*3.5;const vt=C+u*e(Nt);const Gt=H+u*o(Nt);const wt=g*4-s;const Ct=C-l*e(wt);const Ht=H+l*o(wt);const bt=g*4.5-s;const zt=C-u*e(bt);const Ut=H+u*o(bt);const Ft=L-a;const Mt=lt-n*e(Ft);const kt=Ot+n*o(Ft);const Bt=L+a;const Wt=C-n*e(Bt);const Rt=H-n*o(Bt);const jt=L+a;const Yt=c-n*e(jt);const Kt=i+n*o(jt);const qt=s-(L+W+g*4.5-s);const Jt=G+n*e(qt);const Qt=w-n*o(qt);const Vt=L-a;const Xt=O-n*e(Vt);const Zt=p-n*o(Vt);const tn=R*.5+L-m;const nn=V+n*o(tn);const en=X+n*e(tn);const on=s-(L+W+a);const sn=d-n*e(on);const cn=f+n*o(on);const rn=s-(L+W-a);const gn=d+n*e(rn);const an=f+n*o(rn);const mn=k((h-d)/(f-I))-L;const Ln=h-n*e(mn);const un=I+n*o(mn);const ln=k(($-h)/(I-A));const On=ln-L;const dn=h+n*o(On);const pn=I+n*e(On);const fn=L-ln;const hn=$+n*e(fn);const In=A+n*o(fn);const $n=k((E-$)/(A-P));const An=L-$n;const En=$+n*o(An);const Pn=A-n*e(An);const Dn=m-($n+L);const Tn=E+n*e(Dn);const _n=P+n*o(Dn);const xn=k((E-D)/(P-T));const yn=m-(xn+L);const Sn=E+n*e(yn);const Nn=P-n*o(yn);const vn=xn-L;const Gn=D+n*o(vn);const wn=T-n*e(vn);const Cn=k((D-_)/(T-x));const Hn=m-(Cn+L);const bn=D+n*e(Hn);const zn=T-n*o(Hn);const Un=L-Cn;const Fn=_+n*o(Un);const Mn=x+n*e(Un);const kn=k((_-y)/(x-S));const Bn=L+kn;const Wn=_-n*o(Bn);const Rn=x+n*e(Bn);const jn=L+kn;const Yn=y+n*o(jn);const Kn=S+n*e(jn);const qn=k((y-N)/(S-v));const Jn=L+qn;const Qn=y+n*o(Jn);const Vn=S-n*e(Jn);const Xn=qn-L;const Zn=N+n*o(Xn);const te=v-n*e(Xn);const ne=k((N-G)/(w-v));const ee=ne-L;const oe=N-n*o(ee);const se=v-n*e(ee);const ce=`font-size:${z}`;const ie="".concat([{x:(lt+Lt)*.5,y:(Ot+ut)*.5,rotate:0},{x:(D+y)*.5,y:(T+S)*.5,rotate:360-r*3},{x:(It+Tt)*.5,y:($t+_t)*.5,rotate:r*2},{x:(O+d)*.5,y:(p+f)*.5,rotate:0},{x:(vt+zt)*.5,y:(Gt+Ut)*.5,rotate:r*4},{x:(d+$)*.5,y:(f+A)*.5,rotate:-r},{x:(Tt+vt)*.5,y:(_t+Gt)*.5,rotate:r*3},{x:(y+G)*.5,y:(S+w)*.5,rotate:360-r*4},{x:(Lt+It)*.5,y:(ut+$t)*.5,rotate:r},{x:($+D)*.5,y:(A+T)*.5,rotate:360-r*2}].map(({x:t,y:n,rotate:e},o)=>{const s=t,c=n;return getSvgTextHtml(s,c,ce,b[o],e)}).join(""),getOuterLine(nn,V,en,X),getOuterLine(nn,sn,en,cn),getOuterLine(sn,d,cn,f),getOuterLine(d,gn,f,an),getOuterLine(gn,Ln,an,un),getOuterLine(Ln,h,un,I),getOuterLine(h,dn,I,pn),getOuterLine(dn,hn,pn,In),getOuterLine(hn,$,In,A),getOuterLine($,En,A,Pn),getOuterLine(En,Tn,Pn,_n),getOuterLine(Tn,E,_n,P),getOuterLine(E,Sn,P,Nn),getOuterLine(Sn,Gn,Nn,wn),getOuterLine(Gn,D,wn,T),getOuterLine(D,bn,T,zn),getOuterLine(bn,Fn,zn,Mn),getOuterLine(Fn,_,Mn,x),getOuterLine(_,Wn,x,Rn),getOuterLine(Wn,Yn,Rn,Kn),getOuterLine(Yn,y,Kn,S),getOuterLine(y,Qn,S,Vn),getOuterLine(Qn,Zn,Vn,te),getOuterLine(Zn,N,te,v),getOuterLine(N,oe,v,se),getOuterLine(oe,Jt,se,Qt),getOuterLine(Jt,G,Qt,w),getOuterLine(c,G,i,w),getInnerLine(G,N,w,v),getInnerLine(N,y,v,S),getInnerLine(y,_,S,x),getInnerLine(_,D,x,T),getInnerLine(D,E,T,P),getInnerLine(E,$,P,A),getInnerLine($,h,A,I),getInnerLine(h,d,I,f),getInnerLine(d,V,f,X),getInnerLine(V,O,X,p),getInnerLine(c,y,i,S),getInnerLine(c,D,i,T),getInnerLine(c,$,i,A),getInnerLine(c,d,i,f),getInnerLine(c,O,i,p),getOuterLine(C,zt,H,Ut),getOuterLine(zt,Ct,Ut,Ht),getOuterLine(Ct,vt,Ht,Gt),getOuterLine(vt,yt,Gt,St),getOuterLine(yt,Tt,St,_t),getOuterLine(Tt,Et,_t,Pt),getOuterLine(Et,It,Pt,$t),getOuterLine(It,pt,$t,ft),getOuterLine(pt,Lt,ft,ut),getInnerLine(Lt,at,ut,mt),getOuterLine(at,lt,mt,Ot),getInnerLine(C,vt,H,Gt),getInnerLine(C,Tt,H,_t),getInnerLine(C,It,H,$t),getInnerLine(C,Lt,H,ut),getInnerLine(C,lt,H,Ot),getOuterLine(c,Yt,i,Kt),getOuterLine(Yt,Xt,Kt,Zt),getOuterLine(Xt,O,Zt,p),getOuterLine(Jt,G,Qt,w),getOuterLine(C,Wt,H,Rt),getOuterLine(Wt,Mt,Rt,kt),getOuterLine(Mt,lt,kt,Ot));const re=U(O,V,d,h,$,E,D,_,y,N,G,lt,at,Lt,pt,It,Et,Tt,yt,vt,Ct,zt,Sn,Tn,En,hn)+t*.1;const ge=F(O,V,d,h,$,E,D,_,y,N,G,lt,at,Lt,pt,It,Et,Tt,yt,vt,Ct,zt);const ae=U(p,X,f,I,A,P,T,x,S,v,w,Ot,mt,ut,ft,$t,Pt,_t,St,Gt,Ht,Ut);const me=F(p,X,f,I,A,P,T,x,S,v,w,Ot,mt,ut,ft,$t,Pt,_t,St,Gt,Ht,Ut);const Le=re;const ue=ae;return{html:ie,width:Le,height:ue}}draw();