var svgSpace;(function(u){var t;(function(t){var e;(function(t){var e;(function(t){var O="http://www.w3.org/2000/svg";var e="http://www.w3.org/1999/xlink";var a=function(){function w(){}w.appendLine=function(t,e,a,r,o,i,n){var c=document.createElementNS(O,"line");c.setAttribute("x1",a+"mm");c.setAttribute("x2",r+"mm");c.setAttribute("y1",o+"mm");c.setAttribute("y2",i+"mm");if(n){n.left=Math.min(n.left,a,r);n.right=Math.max(n.right,a,r);n.top=Math.min(n.top,o,i);n.bottom=Math.max(n.bottom,o,i)}c.setAttribute("style",e);t.appendChild(c)};w.appendCircle=function(t,e,a,r,o,i){var n=document.createElementNS(O,"circle");n.setAttribute("cx",a+"mm");n.setAttribute("cy",r+"mm");n.setAttribute("r",o+"mm");n.setAttribute("fill","#ffffff");if(i){i.left=Math.min(i.left,a-o);i.right=Math.max(i.right,a+o);i.top=Math.min(i.top,r-o);i.bottom=Math.max(i.bottom,r+o)}n.setAttribute("style",e);t.appendChild(n)};w.appendTspan=function(t,e,a,r,o){var i=document.createElementNS(O,"tspan");i.setAttribute("dx",""+r);i.setAttribute("dy",""+o);i.setAttribute("style",e.concat("dominant-baseline:middle;text-anchor:middle;",a==="6"||a==="9"?"text-decoration:underline;":"",a==="Ã¼"?"opacity:0.85;font-size:0.9em;":""));i.innerHTML=a;t.appendChild(i)};w.appendText=function(t,e,a,r,o,i,n,c,u){if(u===void 0){u=false}var v=document.createElementNS(O,"g");if(i){v.setAttribute("style","transform: rotate("+i+"deg);transform-origin:"+n+";")}t.appendChild(v);var l=document.createElementNS(O,"text");l.setAttribute("x",r+"mm");l.setAttribute("y",o+"mm");l.setAttribute("style","dominant-baseline:middle;text-anchor:middle;");if(a.indexOf("<en>")>-1){var d=getCurrentLang();var h="<"+d+">";var s="</"+d+">";if(a.indexOf(h)>-1){a=a.split(h)[1].split(s)[0]}}a=a.replace(/<br \/>/gi,"<br/>").replace(/<br\/>/gi,"<br>").replace(/\\n/gi,"<br>");if(a.indexOf("<br>")>-1){var m=e.indexOf("font-size:")>-1?e.split("font-size:")[1].split(";")[0]:"2mm";var p=m.replace(/[0-9.]/gi,"");var b=parseFloat(m.replace(p,""));var f=a.split("<br>");var S=0;var g=""+b+p;f.forEach(function(t,e){w.appendTspan(l,"",t,e?"-"+S+"em":"0",e?g:"0");S=t.length})}else{if(u){a.split("").forEach(function(t,e){w.appendTspan(l,"",t,"0","0")})}else{w.appendTspan(l,"",a,"0","0")}}v.appendChild(l);if(c){var T=l.getClientRects();var x=T.length?T.item(0):l.getBoundingClientRect(),C=x.left,A=x.right,y=x.top,W=x.bottom;c.left=Math.min(c.left,C,A);c.right=Math.max(c.right,C,A);c.top=Math.min(c.top,y,W);c.bottom=Math.max(c.bottom,y,W)}l.setAttribute("style",e)};w.setSvgTextInfo=function(t,e,a,r){t.x=e;t.y=a;t.rotate=r};w.appendOuterPath=function(t,e,a,r,o){t.setAttribute("width",e+"mm");t.setAttribute("height",a+"mm");var i=r*e;var n=r*a;var c=u.edu.sonya.cc.SvgHelper.createSvgPath();c.setAttribute("fill","none");c.setAttribute("stroke",o);c.setAttribute("d","M 0, 0 ".concat("h "+i+" ","v "+n+" ","h -"+i+" "," z"));t.appendChild(c)};w.appendOuterLine=function(t,e,a,r){t.setAttribute("width",e+"mm");t.setAttribute("height",a+"mm");var o=u.edu.sonya.cc.SvgHelper.appendLine;o(t,r,0,e,0,0,null);o(t,r,0,e,a,a,null);o(t,r,0,0,0,a,null);o(t,r,e,e,0,a,null)};w.getTextStyleFontSizePatchCss=function(t,e){if(t>99&&e.indexOf("font-size:")>-1){var a=e.split("font-size:")[1].split(";")[0];var r=a.replace(/[0-9\.\-]/g,"");var o=parseFloat(a.replace(r,""));return"font-size:"+o*2/t.toString().length+r+";"}return""};w.createSvg=function(){var t=document.createElementNS(O,"svg");t.setAttribute("version","1.1");t.setAttribute("xmlns",O);t.setAttribute("xmlns:xlink",e);return t};w.createSvgPath=function(){return document.createElementNS(O,"path")};return w}();t.SvgHelper=a})(e=t.cc||(t.cc={}))})(e=t.sonya||(t.sonya={}))})(t=u.edu||(u.edu={}))})(svgSpace||(svgSpace={}));var boxSpace;(function(t){var e;(function(t){var e;(function(t){var e;(function(t){var st;(function(t){t[t["none"]=0]="none";t[t["cuboid"]=1]="cuboid";t[t["cuboidWithoutTop"]=2]="cuboidWithoutTop";t[t["cuboidWithoutBottom"]=3]="cuboidWithoutBottom";t[t["cuboidCoverOnTheSameSide"]=4]="cuboidCoverOnTheSameSide";t[t["cuboidCoverOnTheSameSideWithoutTop"]=5]="cuboidCoverOnTheSameSideWithoutTop";t[t["cuboidCoverOnTheSameSideWithoutBottom"]=6]="cuboidCoverOnTheSameSideWithoutBottom"})(st=t.BoxKind||(t.BoxKind={}));var mt="http://www.w3.org/2000/svg";var e="http://www.w3.org/1999/xlink";var a=function(){function t(){}t.prototype.batchCreate=function(t){var e=this;t.forEach(function(t,e){if(t.id.length===0){t.id="svg_index"}});return t.map(function(t){return e.create(t)})};t.prototype.create=function(t){var e=t.id,a=t.boxKind,r=t.lengths,o=t.contents,i=t.outerLineStyle,n=t.innerLineStyle,c=t.textStyle,u=t.rotate,v=t.move,l=t.topWithoutHalfCircle,d=t.options;if(e.length===0)e="svg_0";var h=r[0];var s=h;var m=false;var p=svgSpace.edu.sonya.cc.SvgHelper,b=p.createSvg,f=p.appendText;var S=b();S.setAttribute("id",e);var g={left:999999,right:0,top:999999,bottom:0};var T=[];switch(a){default:o.forEach(function(t){T.push({content:t,x:0,y:0,rotate:0})});break}var x=(new DPIHelper).getMmToPxScale();switch(a){case st.cuboid:case st.cuboidWithoutTop:case st.cuboidWithoutBottom:case st.cuboidCoverOnTheSameSide:case st.cuboidCoverOnTheSameSideWithoutTop:case st.cuboidCoverOnTheSameSideWithoutBottom:this.drawGraphsOfCuboidBox(S,r,n,i,g,d,x,a,u,v,l);this.drawTextsOfCuboiBox(T,r,a);break;default:break}T.forEach(function(t){var e=t.content,a=t.x,r=t.y,o=t.rotate;f(S,c,e,a,r,o,"left top",null)});var C=g.right+"mm";var A=g.bottom+"mm";S.setAttribute("width",C);S.setAttribute("height",A);var y=createElement("wrap");y.appendChild(S);y.setAttribute("id",e.concat("_wrapper"));if(s!==h){var W=h/s;var w=W*g.right+"mm";var O=W*g.bottom+"mm";var B=x*(W-1)/2;y.setAttribute("style","width:"+w+";height:"+O+";display:inline-block;");S.setAttribute("transform","translate("+g.right*B+", "+g.bottom*B+") scale("+W+", "+W+")");S.setAttribute("transform-origin","center")}var M="page,wrap{page-break-inside:avoid;}wrap{display:inline-flex;}";return{id:e,svg:m?y:S,css:M}};t.prototype.drawGraphsOfCuboidBox=function(t,e,a,P,r,F,o,i,G,I,n){var K=i>=4;var c=e[0];var u=e[2];var v=e[1];var _=K?e[3]:0;var R=Math.min(c,u,v);var l=c*o;var D=u*o;var d=v*o;var h=_*o;var j=.5;var s=R*j;var m=s*o;var q=.45;var p=c*q;var b=p*o;var J=.1;var f=l*J;var S=d-f*2;var Q=c*(1-J*2);var g=Q*o;var U=i===st.cuboidWithoutTop||i===st.cuboidCoverOnTheSameSideWithoutTop?s+v:0;var V=U*o;var T=s*.8;var X=T*.5;var Y=c-T;var Z=Y*.5;var x=Z*o;var C=X*o;var A=T*o;var $=T*.5;var tt=$*.5;var et=$*o;var at=tt*o;var rt=b-at;var ot=S-et;var it=m-C;var nt=g-A;var ct=m+d-V;var y=document.createElementNS(mt,"path");y.setAttribute("fill","none");y.setAttribute("stroke","#000000");if(i<4){y.setAttribute("d",("M 0, "+ct+" ").concat(i===st.cuboidWithoutTop?"h "+(d*3+l*2)+" ":"".concat(n?"".concat("h "+(d+x)+" ","a "+C+" "+C+" 0 1 0 "+A+" 0","h "+x+" "):"".concat("h "+(d+l)+" "),"l "+f+", -"+b+" ","h "+S+" ","l "+f+", "+b+" ","v -"+d+" ","l "+f+", -"+m+" ","h "+g+" ","l "+f+", "+m+" ","v "+d+" ","l "+f+", -"+b+" ","h "+S+" ","l "+f+", "+b+" "),"v "+D+" ","h -"+(l+d)+" ",i===st.cuboidWithoutBottom?"h -"+(d*2+l)+" ":"".concat("l -"+f+", "+b+" ","h -"+S+" ","l -"+f+", -"+b+" ","v "+d+" ","l -"+f+", "+m+" ","h -"+g+" ","l -"+f+", -"+m+" ","v -"+d+" ","l -"+f+", "+b+" ","h -"+S+" ","l -"+f+", -"+b+" ")," z"))}else{y.setAttribute("d",("M 0, "+ct+" ").concat(i===st.cuboidCoverOnTheSameSideWithoutTop?"h "+(d*2+l*2+h)+" ":"".concat("l "+f+", -"+b+" ","h "+S+" ","l "+f+", "+b+" ","v -"+d+" ","l "+f+", -"+m+" ","h "+g+" ","l "+f+", "+m+" ","v "+d+" ","l "+f+", -"+b+" ","h "+S+" ","l "+f+", "+b+" ",n?"".concat("h "+x+" ","a "+C+" "+C+" 0 1 0 "+A+" 0","h "+(x+h)+" "):"".concat("h "+(l+h)+" ")),"v "+D+" ","h -"+(l+h)+" ",i===st.cuboidCoverOnTheSameSideWithoutBottom?"h -"+(d*2+l)+" ":"".concat("l -"+f+", "+b+" ","h -"+S+" ","l -"+f+", -"+b+" ","v "+d+" ","l -"+f+", "+m+" ","h -"+g+" ","l -"+f+", -"+m+" ","v -"+d+" ","l -"+f+", "+b+" ","h -"+S+" ","l -"+f+", -"+b+" ")," z"))}t.appendChild(y);var W="";if(G){W="transform:rotate(180deg);"}if(I){W+="position:relative;margin-top:-"+(v+s-Math.max(0,p*2-(v+s)))+"mm;"}if(W.length){t.setAttribute("style",W)}var w=0;var O=w+v;var B=O+c;var M=B+v;var k=M+c;var ut=k+(K?_:v);var vt=0-U;var E=vt+s;var z=E+v;var H=z+u;var L=H+v;var lt=L+s;var dt=z-p;var ht=H+s;var N=svgSpace.edu.sonya.cc.SvgHelper.appendLine;if(i<4){if(i!==st.cuboidWithoutTop){N(t,a,M,k,E,E,null);N(t,a,B,ut,z,z,null)}}else{if(i!==st.cuboidCoverOnTheSameSideWithoutTop){N(t,a,O,B,E,E,null);N(t,a,w,M,z,z,null)}}if(i!==st.cuboidWithoutBottom&&i!==st.cuboidCoverOnTheSameSideWithoutBottom){N(t,a,O,B,L,L,null)}N(t,a,w,M,H,H,null);N(t,a,O,O,z,H,null);N(t,a,B,B,z,H,null);N(t,a,M,M,z,H,null);N(t,a,k,k,z,H,null);r.left=0;r.top=0;r.right=ut;switch(i){case st.cuboidWithoutBottom:case st.cuboidCoverOnTheSameSideWithoutBottom:r.bottom=lt-(s+v);break;default:r.bottom=lt;break}};t.prototype.drawTextsOfCuboiBox=function(t,e,a){var r=svgSpace.edu.sonya.cc.SvgHelper.setSvgTextInfo;var o=e[0];var i=e[2];var n=e[1];var c=Math.min(o,i,n);var u=.5;var v=c*u;var l=a===st.cuboidWithoutTop||a===st.cuboidCoverOnTheSameSideWithoutTop?v+n:0;var d=-1*(n*2+o*1.5);var h=v+n+i*.5-l;var s=n+o*.5;var m=d;var p=-h;var b=s;var f=-1*(v+n*.5);var S=-1*(n*.5);var g=v+n+i*.5-l;var T=-1*(v+n+i*.5-l);var x=n*1.5+o;var C=v+n+i+n*.5-l;switch(a){case st.cuboidWithoutTop:case st.cuboidCoverOnTheSameSideWithoutTop:t[0].content="";break;case st.cuboid:case st.cuboidWithoutBottom:r(t[0],d,f,180);break;case st.cuboidCoverOnTheSameSide:case st.cuboidCoverOnTheSameSideWithoutBottom:r(t[0],-1*(n+o*.5),f,180);break;default:break}r(t[1],h,S,90);r(t[2],s,g,0);r(t[3],m,T,180);r(t[4],p,x,-90);switch(a){case st.cuboidWithoutBottom:case st.cuboidCoverOnTheSameSideWithoutBottom:t[5].content="";break;case st.cuboidWithoutTop:case st.cuboidCoverOnTheSameSideWithoutTop:case st.cuboid:case st.cuboidCoverOnTheSameSide:r(t[5],b,C,0);break;default:break}};return t}();t.BoxGenerator=a})(e=t.cc||(t.cc={}))})(e=t.sonya||(t.sonya={}))})(e=t.edu||(t.edu={}))})(boxSpace||(boxSpace={}));