let ANOTHER_CSS="";let LANG="zh_cn";function getFixedHtml(t){if(!t||!t.length){return""}return t.replace(/([69])/g,`<span style="text-decoration:underline;">$1</span>`)}function getPokerHtmlOfCarryAdditionLessThan20(){let s="";for(let e=9;e>0;--e){for(let t=10-e;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e}&nbsp;+&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e+t}`)}</answer></topic>`}}return`${s}${s}`}function getPokerHtmlOfCarryAdditionLessThan20(){let s="";for(let e=9;e>0;--e){for(let t=10-e;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e}&nbsp;+&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e+t}`)}</answer></topic>`}}return`${s}${s}`}function getPokerHtmlOfAbdicationMinusLessThan20(){let s="";for(let e=10;e<19;++e){for(let t=e-9;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e}&nbsp;-&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e-t}`)}</answer></topic>`}}return`${s}${s}`}function getPokerHtmlOfMultiplicationFormulasFullLessThan9(){let s="";for(let e=1;e<10;++e){for(let t=1;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e}&nbsp;×&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e*t}`)}</answer></topic>`}}return`${s}`}function getPokerHtmlOfDivisionTableLessThan9(){let s="";for(let e=1;e<10;++e){for(let t=1;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e*t}&nbsp;÷&nbsp;${e}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${t}`)}</answer></topic>`}}return`${s}`}function getPokerHtmlOfMultiplicationFormulasSimpleLessThan9(){let s="";for(let e=1;e<10;++e){for(let t=e;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e}&nbsp;×&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e*t}`)}</answer></topic>`}}return`${s}${s}`}function getPokerHtmlOfCarryAdditionAndAbdicationMinusLessThan20(){let s="";for(let e=9;e>0;--e){for(let t=10-e;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e}&nbsp;+&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e+t}`)}</answer></topic>`}}s+=s;let o="";for(let e=18;e>=10;--e){for(let t=9;t>=e-9;--t){o+=`<topic><question>${getFixedHtml(`${e}&nbsp;-&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e-t}`)}</answer></topic>`}}o+=o;return{htmlA:s,htmlB:o}}function getPokerHtmlOfMultiplicationTableAndDivisionTableLessThan9(){let s="";for(let e=1;e<10;++e){for(let t=e;t<10;++t){s+=`<topic><question>${getFixedHtml(`${e}&nbsp;×&nbsp;${t}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${e*t}`)}</answer></topic>`}}s+=s;let o="";for(let e=9;e>=1;--e){for(let t=9;t>=1;--t){if(e===1&&t===1){continue}o+=`<topic><question>${getFixedHtml(`${e*t}&nbsp;÷&nbsp;${e}`)}&nbsp;=&nbsp;</question><answer>${getFixedHtml(`${t}`)}</answer></topic>`}}return{htmlA:s,htmlB:o}}function getMiniPokerCss(t){return getPageCss(A3,LANDSCAPE,PAGE_PADDING_TOP,PAGE_PADDING_LEFT).concat("page{overflow:hidden;display:-webkit-flex;display:flex;flex-flow:row wrap;justify-content:center;align-items:flex-start;align-content:flex-start;}",'page{font-size:32;font-family:"Times New Roman", "KaiTi";}',"undefined"===typeof t||t?"":"page:nth-of-type(2n){color:#F00;}","topic,question, answer{height:16mm;}","topic{display:flex;width:52mm;}","question, answer{display:inline-flex;border-radius:4mm;border:1px solid #999;align-items:center;}answer{border-radius:2mm;}","question{width:36mm;justify-content:flex-end;}","answer{width:16mm;justify-content: center;}","page:nth-of-type(2n), page:nth-of-type(2n) topic{flex-direction:row-reverse;}","page:nth-of-type(2n) question, page:nth-of-type(2n) answer{border-color:transparent;border-radius:0;}","page:nth-of-type(2n) topic:first-of-type question{border-top-color:#999;}","page:nth-of-type(2n) topic:last-of-type answer{border-bottom-color:#999;}")}function getFirstPageAppendHtml(t,e,s){const{BoxGenerator:o,BoxKind:r}=boxSpace.edu.sonya.cc;const i=new o;const g=false;const l=false;const a=false;const c="stroke:#555;stroke-width:0.2mm;";const _="stroke:#888;stroke-width:0.1mm;stroke-dasharray:3 2;";const v='font-size:4.5mm;font-family:"Times New Roman", "Kaiti";';const f={};let p=0;let d="";[{WIDTH:54,POKER_COVER_TEXT:t},{WIDTH:18,POKER_COVER_TEXT:e}].forEach(({WIDTH:t,POKER_COVER_TEXT:e},s)=>{const o=1*(s===0?2:1);const n=[t+o,18+o,22+o];const m=[e.replace(/<br>/g,""),e,e.replace(/<br>/g,""),e.replace(/<br>/g,""),e,e.replace(/<br>/g,"")];d+=i.create({id:`svg_${++p}`,boxKind:r.cuboid,lengths:n,contents:m,outerLineStyle:c,innerLineStyle:_,textStyle:v,rotate:g,move:l,topWithoutHalfCircle:a,options:f}).svg.outerHTML});for(let t=0;t<8;++t){const u=10;const h=[u,u,u];const b=t===0?["0","1","2","3","4","5"]:["1","2","3","4","5","6"];d+=i.create({id:`svg_${++p}`,boxKind:r.cuboid,lengths:h,contents:b,outerLineStyle:c,innerLineStyle:_,textStyle:v,rotate:g,move:l,topWithoutHalfCircle:a,options:f}).svg.outerHTML}for(let t=0;t<14;++t){const u=5;const h=[u,u,u];const b=t===0?["0","1","2","3","4","5"]:["1","2","3","4","5","6"];d+=i.create({id:`svg_${++p}`,boxKind:r.cuboid,lengths:h,contents:b,outerLineStyle:c,innerLineStyle:_,textStyle:'font-size:3mm;font-family:"Times New Roman", "Kaiti";',rotate:g,move:l,topWithoutHalfCircle:a,options:f}).svg.outerHTML}const{html:n,css:m}=getDicesInfo(s);if(s){d+=n}return`<div>${d}</div>`.concat("<style>","page>div{margin-top:0.5mm;position:relative;height:124mm;box-sizing:border-box;padding-top:20mm;}","page div>svg{position:absolute;}","#svg_1,#svg_2{position:relative;}#svg_2{top:1mm;}","#svg_3,#svg_5,#svg_6{ top: 0;}","#svg_4,#svg_7,#svg_8{ bottom: 0mm;}","#svg_3{right:28mm; }","#svg_4{bottom:unset; top:5mm;right:64mm;transform:rotate(90deg); }","#svg_5{bottom:unset; top:5mm;left:0mm;transform:rotate(90deg); }","#svg_6{bottom:unset; top:5mm;left:25mm;transform:rotate(90deg); }","#svg_7, #svg_8, #svg_9{bottom:5mm;transform:rotate(90deg); }","#svg_7{left:90mm;}","#svg_8{left:115mm;}","#svg_9{left:140mm;}","#svg_10{bottom:7.5mm;right:0mm; }","#svg_11,#svg_12,#svg_13,#svg_14{top:0mm;}","#svg_11{left:55mm;}","#svg_12{left:80mm;}","#svg_13{left:105mm;}","#svg_14{left:130mm;}","#svg_15,#svg_16,#svg_17{bottom:0mm;}","#svg_15{left:0mm;}","#svg_16{left:25mm;}","#svg_17{left:50mm;}","#svg_18,#svg_19,#svg_20{transform:rotate(90deg);}","#svg_18,#svg_19{bottom:1.75mm;}","#svg_18{left:73mm;}","#svg_19{left:88mm;}","#svg_20{left:-3mm;top:25mm;}","#svg_21,#svg_22{transform:rotate(90deg); }","#svg_21{top:2.5mm;right:10.5mm;}","#svg_22{top:22.5mm;right:-3mm;}","#svg_23{bottom:0mm;right:45mm;}","#svg_24{bottom:0mm;right:0mm;}",s?m:"",ANOTHER_CSS,"</style>")}function getDicesInfo2(t){const e=!t?"":(()=>{const e=new edu.sonya.cc.DiceGenerator;const t=edu.sonya.cc.DiceKind;let s=21,o,n,m,r,i,g,l;n=t.four;m=10;o="1,2,3,4".split(",");r="stroke:#555;stroke-width:0.2mm;";i="stroke:#888;stroke-width:0.1mm;stroke-dasharray:3 2;";g='font-size:3mm;font-family: "Kaiti";';l={};let a="";s=41;for(let t=0;t<23;++t){a+=e.create({id:`svg_${s++}`,diceKind:n,sideLength:m,contents:o,outerLineStyle:r,innerLineStyle:i,textStyle:g,options:l}).svg.outerHTML}m=10;s=81;n=t.eight;o="1,2,3,4,5,6,7,8".split(",");for(let t=0;t<4;++t){a+=e.create({id:`svg_${s++}`,diceKind:n,sideLength:m,contents:o,outerLineStyle:r,innerLineStyle:i,textStyle:g,options:l}).svg.outerHTML}m=10;s=121;n=t.twelve;o="1,2,3,4,5,6,7,8,9,10,11,12".split(",");for(let t=0;t<1;++t){a+=e.create({id:`svg_${s++}`,diceKind:n,sideLength:m,contents:o,outerLineStyle:r,innerLineStyle:i,textStyle:g,options:l}).svg.outerHTML}m=15;s=201;n=t.twenty;o="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20".split(",");for(let t=0;t<1;++t){a+=e.create({id:`svg_${s++}`,diceKind:n,sideLength:m,contents:o,outerLineStyle:r,innerLineStyle:i,textStyle:g,options:l}).svg.outerHTML}m=8;s=241;n=t.twentyFour;o="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24".split(",");for(let t=0;t<1;++t){a+=e.create({id:`svg_${s++}`,diceKind:n,sideLength:m,contents:o,outerLineStyle:r,innerLineStyle:i,textStyle:'font-size:3mm;font-family:"Times New Roman", "Kaiti";',options:l}).svg.outerHTML}return a})();return{USED_DICES:t,html:e,css:t?"".concat("#svg_11,#svg_12,#svg_13,#svg_14,#svg_15,#svg_16,#svg_17,#svg_18,#svg_19{display:none;}","#svg_20,#svg_21,#svg_22,#svg_23,#svg_24{display:none;}","#svg_41{left:-3mm;top: 25mm;transform: rotate(-28deg);}","#svg_42,#svg_43,#svg_44{transform: rotate(180deg);}","#svg_42,#svg_62{top:-15mm;left:75mm;}#svg_62{left:89mm;}","#svg_43{top:30mm;left:55mm;}","#svg_44{left:83mm;top:10mm;}","#svg_45{left:113mm;top:0mm;}","#svg_46,#svg_47{bottom:0mm;}","#svg_46{left:35mm;transform:rotate(180deg);}","#svg_47{left:49mm;}","#svg_48,#svg_49,#svg_30{bottom:0mm;}","#svg_48{right:44mm;}","#svg_49{right: 60mm;transform:rotate(180deg); }","#svg_50{right:0mm;bottom:0mm;}","#svg_51{left: 167mm;top: 17mm;transform: rotate(180deg);}","#svg_52{left:174mm;top:34mm;}","#svg_53{left: 207.75mm;top: 24mm;}","#svg_54{top: -15mm;right: 24mm;}","#svg_55{top:-15mm;right:10mm;transform: rotate(180deg);}","#svg_56{top: 5mm;right: 10.5mm;}","#svg_57{top:-1mm;right:1mm;transform: rotate(-61deg);}","#svg_58{bottom: 28mm;left: 90mm;transform: rotate(-16deg);}","#svg_59{bottom: 31mm;left: 114mm;transform: rotate(180deg);}","#svg_60{bottom: 31mm;left: 144mm;transform: rotate(180deg);}","#svg_61{bottom:0mm;right:74mm;}","#svg_63{top: 18mm;right: 1mm;transform: rotate(-60deg);}","#svg_83,#svg_84{bottom:0mm;}","#svg_83{left:2mm;}","#svg_84{left:62mm;}","#svg_121{top:-15mm;left:0mm;}","#svg_82{top:0mm;left:130.5mm;}","#svg_81{top:23mm;left:20mm;}","#svg_41{left: 0mm;top: 25mm;transform:unset;}","#svg_7,#svg_8,#svg_9{display:none;}","#svg_201{bottom:0mm;left:100mm;}","#svg_241{top:-15mm;right:29mm;position:absolute;}","page>div{margin-top:1mm;}"):""}}function getDicesInfo3(){const{BoxGenerator:t,BoxKind:e}=boxSpace.edu.sonya.cc;const s=new t;const o=false;const n=false;const m=false;const r="stroke:#555;stroke-width:0.2mm;";const i="stroke:#888;stroke-width:0.1mm;stroke-dasharray:3 2;";const g='font-size:3mm;font-family:"Times New Roman", "Kaiti";';const l={};let a="";svgId=24;for(let t=0;t<9;++t){const c=5;const _=[c,c,c];const v=["1","2","3","4","5","6"];a+=s.create({id:`svg_${++svgId}`,boxKind:e.cuboid,lengths:_,contents:v,outerLineStyle:r,innerLineStyle:i,textStyle:g,rotate:o,move:n,topWithoutHalfCircle:m,options:l}).svg.outerHTML}return{USED_DICES:true,html:a,css:"".concat("#svg_21{transform: unset;top:-15mm;left:0mm;}","#svg_22,#svg_23,#svg_24{top:-15mm;transform: unset;}","#svg_22{left:29mm;}","#svg_23{left:54mm;}","#svg_24{left:79mm;}","#svg_3{right:25mm;}","#svg_25,#svg_26,#svg_27,#svg_28,#svg_29{transform:rotate(90deg);top:-13mm;}","#svg_25{left:173mm;}","#svg_26{left:186mm;}","#svg_27{left:199mm;}","#svg_28{left:222mm;}","#svg_29{left:235mm;}","#svg_30{top:4mm;right:0mm;}","#svg_31{transform:rotate(90deg);top:22mm;right:-3mm;}","#svg_32,#svg_33{bottom:0mm;right:0mm;}","#svg_33{right:45mm;}")}}function getDicesInfo(t){return{USED_DICES:t,html:t?getDicesHtml():"",css:t?"".concat("#svg_11,#svg_12,#svg_13,#svg_14,#svg_15,#svg_16,#svg_17,#svg_18,#svg_19,#svg_20,#svg_21,#svg_22,#svg_23,#svg_24{display:none;}","#svg_3{right:18mm;}","#svg_4{right:55mm;}","#svg_31{left:-3mm;top: 25mm;transform: rotate(-28deg);}","#svg_32,#svg_33{right: 0mm;transform:rotate(-18deg)}","#svg_32{top:0mm;}","#svg_33{top:22mm;}","#svg_34,#svg_35{top:0mm;}","#svg_34{left:92mm;}","#svg_35{left:113mm;}","#svg_36,#svg_37{bottom:0mm;}","#svg_36{left:35mm;transform:rotate(180deg);}","#svg_37{left:49mm;}","#svg_38,#svg_39,#svg_30{bottom:0mm;}","#svg_38{right:44mm;}","#svg_39{right: 60mm;transform:rotate(180deg); }","#svg_40{right:0mm;bottom:0mm;}","#svg_51,#svg_52{top:0mm;}","#svg_51{left:56mm;}","#svg_52{left:130.5mm;}","#svg_53,#svg_54{bottom:0mm;}","#svg_53{left:2mm;}","#svg_54{left:62mm;}"):""}}function getDicesHtml(){const e=new edu.sonya.cc.DiceGenerator;const t=edu.sonya.cc.DiceKind;let s=0,o,n,m,r,i,g,l;n=t.four;m=10;o="1,2,3,4".split(",");r="stroke:#555;stroke-width:0.2mm;";i="stroke:#888;stroke-width:0.1mm;stroke-dasharray:3 2;";g='font-size:3mm;font-family: "Kaiti";';l={};let a="";s=31;for(let t=0;t<10;++t){a+=e.create({id:`svg_${s++}`,diceKind:n,sideLength:m,contents:o,outerLineStyle:r,innerLineStyle:i,textStyle:g,options:l}).svg.outerHTML}m=10;s=51;n=t.eight;o="1,2,3,4,5,6,7,8".split(",");for(let t=0;t<4;++t){a+=e.create({id:`svg_${s++}`,diceKind:n,sideLength:m,contents:o,outerLineStyle:r,innerLineStyle:i,textStyle:g,options:l}).svg.outerHTML}return a}function drawCore(t,e,s,o,n){console.log(window.LANG);const{longText:m,shortText:r}=e[window.LANG];const i=getFirstPageAppendHtml(m,r,s);document.getElementById("style").innerHTML=getMiniPokerCss(o);const g=document.getElementsByTagName("body")[0];if(n){const{htmlA:l,htmlB:a}=t(s);for(let t=0;t<2;++t){const c=createPageElement();c.innerHTML=t===0?l.concat(i):a;g.appendChild(c)}}else{const _=t(s);for(let t=0;t<2;++t){const c=createPageElement();c.innerHTML=_.concat(t===0?i:"");g.appendChild(c)}}window.print()}function draw(){setF1Content("?lang=en&no=1&useDice=true");const t=window.location.href.replace("?","&");parsePageParamsFromUrl(t);const e=t.concat("&useDice=true").replace("&useDice=","厶").split("厶")[1].split("&")[0]==="true";let s,o,n=true,m=false;let r;const i=parseInt(t.concat("&no=1").replace("&no=","厶").split("厶")[1].split("&")[0]);switch(i){case 1:default:s=getPokerHtmlOfCarryAdditionLessThan20;o={en:{longText:"Carry Plus",shortText:"Plus"},zh_cn:{longText:"20内进位加",shortText:"进位加"},zh_tw:{longText:"20內進位加",shortText:"進位加"}};r={en:"Carry Plus Poker",zh_cn:"迷你扑克：20内进位加",zh_tw:"迷你撲克：20內進位加"};break;case 2:s=getPokerHtmlOfAbdicationMinusLessThan20;o={en:{longText:"Subtraction",shortText:"Minus"},zh_cn:{longText:"20内退位减",shortText:"退位减"},zh_tw:{longText:"20內退位减",shortText:"退位减"}};r={en:"Abdication Minus Poker",zh_cn:"迷你扑克：20内退位减",zh_tw:"迷你撲克：20內退位减"};break;case 3:ANOTHER_CSS=e?"#svg_3,#svg_4,#svg_5,#svg_6{display:none;}":"";getDicesInfo=e?getDicesInfo2:getDicesInfo3;s=getPokerHtmlOfMultiplicationFormulasFullLessThan9;o={en:{longText:"Multiply 2",shortText:"Multiply2"},zh_cn:{longText:"大九九<br>乘法口诀表",shortText:"大九九"},zh_tw:{longText:"大九九<br>乘法口訣表",shortText:"大九九"}};r={en:"Full Multiplication Table Less Than 9 Poker",zh_cn:"迷你扑克：大九九乘法口诀表",zh_tw:"迷你撲克：大九九乘法口訣表"};break;case 4:s=getPokerHtmlOfMultiplicationFormulasSimpleLessThan9;o={en:{longText:"Multiply 1",shortText:"Multiply1"},zh_cn:{longText:"小九九<br>乘法口诀表",shortText:"小九九"},zh_tw:{longText:"小九九<br>乘法口訣表",shortText:"小九九"}};r={en:"Simple Multiplication Table Less Than 9 Poker",zh_cn:"迷你扑克：小九九乘法口诀表",zh_tw:"迷你撲克：小九九乘法口訣表"};break;case 5:ANOTHER_CSS=e?"#svg_3,#svg_4,#svg_5,#svg_6{display:none;}":"";getDicesInfo=e?getDicesInfo2:getDicesInfo3;s=getPokerHtmlOfDivisionTableLessThan9;o={en:{longText:"Division",shortText:"Division"},zh_cn:{longText:"九九除法<br>口诀表",shortText:"九九除法"},zh_tw:{longText:"九九除法<br>口訣錶",shortText:"九九除法"}};r={en:"Division Table Less Than 9 Poker",zh_cn:"迷你扑克：九九除法口诀表",zh_tw:"迷你撲克：九九除法口訣錶"};break;case 6:m=true;s=getPokerHtmlOfMultiplicationTableAndDivisionTableLessThan9;o={en:{longText:"Complex2",shortText:"Complex2"},zh_cn:{longText:"九九乘除<br>口诀表",shortText:"九九乘除"},zh_tw:{longText:"九九乘除<br>口訣錶",shortText:"九九乘除"}};r={en:"Multiplication Table and Division Table Less Than 9 Poker",zh_cn:"迷你扑克：九九乘除口诀表",zh_tw:"迷你撲克：九九乘除口訣錶"};break;case 7:m=true;s=getPokerHtmlOfCarryAdditionAndAbdicationMinusLessThan20;o={en:{longText:"Complex1",shortText:"Complex1"},zh_cn:{longText:"20内<br>进位加<br>退位减",shortText:"加减"},zh_tw:{longText:"20內<br>進位加<br>退位减",shortText:"加减"}};r={en:"Carry Plus and Abdication Minus Poker",zh_cn:"迷你扑克：20内进位加退位减",zh_tw:"迷你撲克：20內進位加退位减"};break}document.getElementsByTagName("title")[0].innerText=`${(e?10:0)+i} ${A3?"A3":"A4"} ${r[LANG]}`;drawCore(s,o,e,n,m)}draw();